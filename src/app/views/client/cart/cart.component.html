<div class="container">
  <div class="row py-5">
    <div class="col-12">
      <h5 class="text-uppercase mb-4">CART</h5>
      <mat-table [dataSource]="itemsList">
        <ng-container matColumnDef="item">
          <mat-header-cell *matHeaderCellDef> Item </mat-header-cell>
          <mat-cell *matCellDef="let item">
            <button
              mat-icon-button
              class="btn-remove"
              (click)="removeItem(item.id)"
            >
              <i class="eva eva-close-outline"></i>
            </button>
            <img
              class="img-cart mx-3"
              src="{{ host + item.mainImage }}"
              alt=""
            />
            <span class="item-name">{{ item.name }}</span>
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="size">
          <mat-header-cell *matHeaderCellDef> Size </mat-header-cell>
          <mat-cell *matCellDef="let item"> {{ item.size }} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="quantity">
          <mat-header-cell *matHeaderCellDef> Quantity </mat-header-cell>
          <mat-cell *matCellDef="let item; index as i">
            <div class="border d-flex justify-content-between rounded">
              <button mat-flat-button (click)="subQuantity(i)">
                <i class="eva eva-minus-outline"></i>
              </button>
              <input type="text" [value]="item.quantity" />
              <button mat-flat-button (click)="addQuantity(i)">
                <i class="eva eva-plus-outline"></i>
              </button>
            </div>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="price">
          <mat-header-cell *matHeaderCellDef> Price </mat-header-cell>
          <mat-cell *matCellDef="let item">
            <span class="item-price">{{ item.price | currencyvnd }}</span>
          </mat-cell>
        </ng-container>

        <!-- Header and Row Declarations -->
        <mat-header-row *matHeaderRowDef="columnItems"></mat-header-row>
        <mat-row *matRowDef="let row; columns: columnItems"></mat-row>
      </mat-table>
      <div
        class="py-4 font-italic d-flex justify-content-center"
        *ngIf="itemsList.length <= 0"
      >
        <span>Nothing in your cart. </span>
        <a routerLink="/">Go Shopping</a>
      </div>
      <div class="py-4 px-2 text-right">
        <span class="total-price-label mr-5">Total</span>
        <span class="total-price ml-3">{{ total | currencyvnd }}</span>
      </div>
      <div
        class="py-4 px-2 d-flex justify-content-between border-bottom border-top"
      >
        <button mat-stroked-button class="py-2 active-color" routerLink="../">
          <i class="eva eva-arrow-back-outline"></i>
          <span class="mx-2"> Continuous shopping </span>
        </button>
        <div>
          <button mat-flat-button class="py-2 mx-1 btn-clear" (click)="clear()">
            Clear shopping cart
          </button>
          <button
            mat-raised-button
            class="py-2 mx-1 active-color"
            (click)="update()"
          >
            Update shopping cart
          </button>
        </div>
      </div>
      <div class="py-4 px-2 d-flex justify-content-end">
        <button mat-raised-button class="px-5 py-2 bg-active-color text-white">
          Go to Pay bill
        </button>
      </div>
    </div>
  </div>
</div>
